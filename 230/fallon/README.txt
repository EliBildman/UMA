My implementation of The Tonight show uses one binary semaphore, protecting a global variable, and one counting semaphore. To simulate a caller connecting, a thread is created that runs through a function resulting in a bought ticket. The function starts by checking whether the caller can connect or not by checking if a global integer called 'connected', protected by a binary semaphore, is less than a set cap, called 'NUM_LINES'. It keep retrying to connect until there's space, incrementing the 'connected' counter, and moving on in the function. Then, the function waits at the 'operators' counting semaphore until there are less than 'NUM_OPERATORS' being used. Once that opens, the function waits 3 seconds to simulate a ticket being bought, and exits, decrementing the connected variable and freeing the 'operators' semaphore.